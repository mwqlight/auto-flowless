# 商城比价
帮助用户快速找到同一商品在不同商城的最优价格。这意味着系统需要实现从目标电商平台自动抓取商品价格信息，进行清洗和对比，最后通过直观的界面呈现给用户。
## 功能描述
 在auto-flowless-backend下新增一个auto-flowless-price-lab-starter模块，需要集成到web中使用，用于实现比价功能的后端核心功能。具体业务分为前后端的功能，具体如下：
1. 后端核心功能设计与实现
后端是比价功能的引擎，负责数据抓取、处理和提供API。
数据采集层 (爬虫引擎)
技术选型：优先考虑使用成熟的爬虫框架，如 WebMagic或 Jsoup。它们能简化HTTP请求、HTML解析和URL管理。对于动态加载内容（如JavaScript渲染的价格），需要集成 Selenium或 Playwright​ 来模拟浏览器行为。
核心职责：
商品搜索：根据商品关键词或URL，在不同电商平台进行搜索。
价格解析：精准定位并提取商品的价格、名称、店铺、优惠信息等。可使用XPath、CSS选择器等方式。
反爬应对：合理设置请求头（如User-Agent）、代理IP、请求延迟等，遵守robots.txt，尊重网站规则。
架构设计：将爬虫任务设计为可异步执行的模块，例如使用Spring的@Async或消息队列，避免阻塞主应用。
数据处理与存储
数据标准化：定义统一的商品数据模型（如包含productName, price, platform, updateTime等字段），将不同来源的数据映射到此模型。
数据存储：使用MySQL等关系型数据库存储商品基本信息和价格历史记录，便于进行价格趋势分析。可使用Redis缓存热门商品的比价结果，提升响应速度。
价格监控：设计定时任务（如使用Spring Scheduler），定期更新关注商品的价格，实现价格波动监控和提醒。
API 服务层
为前端提供清晰的RESTful API，例如：
GET /api/compare/{keyword}：根据关键词进行比价搜索。
GET /api/price-history/{productId}：获取某个商品的历史价格图表数据。
POST /api/monitor：添加商品到价格监控列表。
2. 前端核心功能展示
前端负责将比价结果清晰、友好地呈现给用户。
比价结果页
核心组件：创建一个用于展示和输入搜索关键词的比价页面。
结果展示：以表格形式清晰列出不同平台的商品名称、现价、优惠、店铺等。关键信息（如最低价）可做高亮处理。
数据可视化：集成 ECharts​ 等库，绘制历史价格趋势图，帮助用户判断购买时机。
用户交互功能
价格监控与提醒：允许用户收藏商品或设置目标价，当价格达到预期时通过站内信或邮件通知。
排序与筛选：提供按价格、销量、平台等条件的排序和筛选功能，方便用户精准查找。
3. 集成注意事项
项目管理：将爬虫模块作为独立的Service或子模块集成到现有SpringBoot项目中，保持代码结构清晰。
伦理与合规：务必控制爬取频率，避免对目标网站服务器造成过大压力。仔细检查网站的服务条款，确保数据抓取行为在合法合规范围内。
错误处理：建立完善的日志和异常处理机制，应对网站结构变更或网络异常等情况。
性能优化：针对高并发场景，合理设计缓存策略（如Redis），减少数据库查询压力。
4. 需要在项目中新增商城比较的功能菜单，菜单路径为/price-lab，菜单名称为商城比价。然后利用sql初始化到数据库中，用户名和密码都是root,切记不能让用户输入，必须全自动执行。